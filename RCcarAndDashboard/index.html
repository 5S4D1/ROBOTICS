<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Control Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <script src="script.js"></script>

    <div class="dashboard">
        <!-- Left Side - Controls and Sensor Data -->
        <div class="left-panel">
            <!-- Status Card -->
            <div class="card">
                <div class="status-bar">
                    <div class="connection-status">
                        <div class="status-indicator"></div>
                        <span>Connected</span>
                    </div>
                    <div class="autonomous-toggle">
                        <span>Autonomous Mode</span>
                        <label class="switch">
                            <input type="checkbox" id="autonomousToggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Sensor Data Card -->
            <div class="card1">
                <h2 class="card-title">Ultrasonic Sensor Data</h2>
                <div class="sensor-data">
                    <div class="distance-display">
                        Distance: <span id="distanceValue">150</span> cm
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 50%"></div>
                    </div>
                    <div id="timestamp">Last Updated: 12:00:00</div>
                </div>
                <div class="warning-alert" id="warningAlert">
                    <i class="fas fa-exclamation-triangle"></i>
                    Obstacle Detected!
                </div>
            </div>
        </div>

        <!-- Right Side - Camera Feed -->
        <div class="card">
            <!-- Status Card -->
            <div class="input-card">
                <h2>IP Address Input</h2>
                <br>
                <!-- Address input bar -->
                <input class="input" type="url" id="inputLink" placeholder="https://10.15.16.165:8080" required>
                <button onclick="loadCamera()">Load Video</button>
            </div>
            <br>
            <h2 class="card-title">IP Camera Feed</h2>
            <div class="camera-feed">
                <div id="noVideoMessage">No video stream available. Please load an IP camera.</div>
                <iframe id="cameraFrame" width="640" height="480" allowfullscreen></iframe>
            </div>
        </div>
    </div>


    <!-- <script> 
    function openLink() {
        var link = document.getElementById("inputLink").value;
        if (link) { 
            window.open(link, "_blank"); // Open link in a new tab 
        } 
        else { 
            alert("Please enter a valid URL."); 
        } 
    } 
    </script> -->

    <!-- <script>
        // Control button handling
        const buttons = document.querySelectorAll('.control-btn');
        const distanceValue = document.getElementById('distanceValue');
        const progressFill = document.querySelector('.progress-fill');
        const warningAlert = document.getElementById('warningAlert');
        const autonomousToggle = document.getElementById('autonomousToggle');
        const timestamp = document.getElementById('timestamp');

        // Keyboard controls
        document.addEventListener('keydown', (e) => {
            if (autonomousToggle.checked) return;
            
            const key = e.key;
            const button = {
                'ArrowUp': document.getElementById('forwardBtn'),
                'ArrowDown': document.getElementById('backBtn'),
                'ArrowLeft': document.getElementById('leftBtn'),
                'ArrowRight': document.getElementById('rightBtn')
            }[key];

            if (button) {
                button.classList.add('active');
                // Add your car control logic here
            }
        });

        document.addEventListener('keyup', (e) => {
            const key = e.key;
            const button = {
                'ArrowUp': document.getElementById('forwardBtn'),
                'ArrowDown': document.getElementById('backBtn'),
                'ArrowLeft': document.getElementById('leftBtn'),
                'ArrowRight': document.getElementById('rightBtn')
            }[key];

            if (button) {
                button.classList.remove('active');
                // Add your car stop logic here
            }
        });

        // Simulated sensor updates
        setInterval(() => {
            const distance = Math.floor(Math.random() * 300);
            distanceValue.textContent = distance;
            progressFill.style.width = `${Math.min((distance / 300) * 100, 100)}%`;
            timestamp.textContent = `Last Updated: ${new Date().toLocaleTimeString()}`;

            if (distance < 50) {
                warningAlert.classList.add('show');
                progressFill.style.backgroundColor = '#dc3545';
            } else {
                warningAlert.classList.remove('show');
                progressFill.style.backgroundColor = '#007bff';
            }
        }, 1000);

        // Autonomous mode toggle
        autonomousToggle.addEventListener('change', (e) => {
            const buttons = document.querySelectorAll('.control-btn');
            buttons.forEach(btn => {
                btn.disabled = e.target.checked;
                btn.style.opacity = e.target.checked ? '0.5' : '1';
            });
        });
    </script> -->
</body>
</html>